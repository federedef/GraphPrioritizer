<%
        ######################################################################
        ## DATA
        ######################################################################
        data_header = @hash_vars['parsed_uncomb_kmetrics'].first
        #Order by sample name
        tab_header = @hash_vars['parsed_uncomb_kmetrics'].shift
        @hash_vars['parsed_uncomb_kmetrics'].sort!{|s1, s2| s1.first.reverse <=> s2.first.reverse }
        @hash_vars['parsed_uncomb_kmetrics'].unshift(tab_header)

%>

<div style="width:90%; background-color:#F4F8FC; margin:50 auto; align-content: center;">
        <h1 style="text-align:center; background-color:#ecf0f1, color: powderblue; ">Analysis from KeRank: From kernels to backup genes.</h1>

        <h2 style="text-align:center; background-color:#ecf0f1, color: powderblue;"> Kernelization section </h2>

        <p> The algorithm transformed the semantic similarity matrix to make it compatible with a kernel. Once this was done for each network and kernel type, it was integrated by kernel type. Below is a general analysis of the properties of each matrix in the different phases of the process. </p>

        <h3 style="text-align:center; background-color:#ecf0f1, color: powderblue;"> Matrix properties </h3>

        <div style="overflow: hidden";>
                <%= 
                table(id: "parsed_similarity_metrics", text: true, header: true, 
                        fields: [0,1,2,3],
                        cell_align: ['left', 'center', 'center', 'center'],
                        border: 2,
                        attrib: {
                                'style' => 'margin-left: auto; margin-right:auto;',
                                'cellspacing' => 0,
                                'cellpadding' => 2
                        }) do |data|
                end
                %>
        </div>

        <div style="overflow: hidden";>
                <%= 
                table(id: "parsed_uncomb_kmetrics", text: true, header: true, 
                        fields: [1,2,3,4,5],
                        cell_align: ['left', 'left', 'center', 'center', 'center', 'center'],
                        border: 2,
                        attrib: {
                                'style' => 'margin-left: auto; margin-right:auto;',
                                'cellspacing' => 0,
                                'cellpadding' => 2
                        }) do |data|
                end
                %>
        </div>

        <div style="overflow: hidden";>
                <%= 
                table(id: "parsed_comb_kmetrics", text: true, header: true, 
                        fields: [1,2,3,4,5],
                        cell_align: ['left', 'left', 'center', 'center', 'center', 'center'],
                        border: 2,
                        attrib: {
                                'style' => 'margin-left: auto; margin-right:auto;',
                                'cellspacing' => 0,
                                'cellpadding' => 2
                        }) do |data|
                end
                %>
        </div>

        <h3 style="text-align:center; background-color:#ecf0f1, color: powderblue;"> Weight values </h3>

        <div style="overflow: hidden">
                <%= barplot(id: "parsed_uncomb_kmetrics", fields: [0, 12, 13, 14], header: true, row_names: true,
                        responsive: false,
                        height: '400px', width: '400px',
                        title: "Weight's values before integration",
                        config: {
                                'showLegend' => true,
                                'graphOrientation' => 'vertical',
                                })
                %>

                <%= barplot(id: "parsed_comb_kmetrics", fields: [0, 12, 13, 14], header: true, row_names: true,
                        responsive: false,
                        height: '400px', width: '400px',
                        title: "Weight's values after integration",
                        xlabel: "medidas",
                        config: {
                                'showLegend' => true,
                                'graphOrientation' => 'vertical',
                                })
                %>
        </div>

        <h2 style="text-align:center; background-color:#ecf0f1, color: powderblue;"> Ranker section </h2>

</div>


















